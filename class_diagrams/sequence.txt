@startuml

participant Main

-> Main : main()
activate Main

create configuration
Main -> configuration
activate configuration

create specification
configuration -> specification
activate specification

specification --> configuration
deactivate specification

configuration --> Main
deactivate configuration

create IslandGenerator
Main -> IslandGenerator : create_island()
activate IslandGenerator

create meshExtractor
IslandGenerator -> meshExtractor
activate meshExtractor
meshExtractor --> IslandGenerator
deactivate meshExtractor

create TileTypeWrapperCreator
IslandGenerator -> TileTypeWrapperCreator : create_tile_types()
activate TileTypeWrapperCreator
TileTypeWrapperCreator --> IslandGenerator
deactivate TileTypeWrapperCreator

IslandGenerator -> meshExtractor : extract(Structs.Mesh)
activate meshExtractor
create polygonExtractor
meshExtractor -> polygonExtractor : extract(Structs.Polygon)
activate polygonExtractor
polygonExtractor --> meshExtractor
deactivate polygonExtractor
create segmentExtractor
meshExtractor -> segmentExtractor : extract(Structs.Segment)
activate segmentExtractor
segmentExtractor --> meshExtractor
deactivate segmentExtractor
create vertexExtractor
meshExtractor -> vertexExtractor : extract(Structs.Vertex)
activate vertexExtractor
vertexExtractor --> meshExtractor
deactivate vertexExtractor
meshExtractor --> IslandGenerator
deactivate meshExtractor

IslandGenerator --> Main

@enduml
